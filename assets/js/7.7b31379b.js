(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{433:function(t,e,i){"use strict";var n=i(1),s=i(129),o=i(49),a=i(14),h=i(15),r=i(130),c=i(71),m=i(72)("splice"),l=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var i,n,m,u,v,p,A=h(this),y=a(A.length),f=s(t,y),I=arguments.length;if(0===I?i=n=0:1===I?(i=0,n=y-f):(i=I-2,n=g(l(o(e),0),y-f)),y+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(m=r(A,n),u=0;u<n;u++)(v=f+u)in A&&c(m,u,A[v]);if(m.length=n,i<n){for(u=f;u<y-n;u++)p=u+i,(v=u+n)in A?A[p]=A[v]:delete A[p];for(u=y;u>y-n+i;u--)delete A[u-1]}else if(i>n)for(u=y-n;u>f;u--)p=u+i-1,(v=u+n-1)in A?A[p]=A[v]:delete A[p];for(u=0;u<i;u++)A[u+f]=arguments[u+2];return A.length=y-n+i,m}})},468:function(t,e,i){},516:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA3MTcyRDY4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA3MTcyRDc4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMDcxNzJENDgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMDcxNzJENTgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp0uf+cAAAB6SURBVHjaYllTw+Bjw0AM2HKEIaSFgeHHDgagHmIAUCUQsAAxUB+ReqAaMAGyIzk8UIxjwaMaqBQTMOExG+JoNNcy4VIN1wMKGTw2EAR01oAZLJgiKBqAAYKsAsJGCyX0eEDTg5kCsEQc/mTCAkyDkAgiJrWSAwACDAD81R/z7sCfFgAAAABJRU5ErkJggg=="},517:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA3RkYxRjU4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA3RkYxRjY4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMDcxNzJEODgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMDcxNzJEOTgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhkOJiUAAACZSURBVHjanFJBCoAwDCujBx/lAzx49DkefY5HDz7AR3k0UKklK1MsbNCRZEmprrOMvXyp7ZBpETl3AedLAYlSHPAaHPu/G+5WG5Ju1dE5gSIZ2vwkhIh2YUczgbQjDmRrSxoumqa2vE7T0D5GTYdtt9mIxhJC/N2hcVBKsUivtvRkwBNlrdFsKeXQ1ih2MNqoLcVt/VOXAAMAUvs0u8u5bhAAAAAASUVORK5CYII="},518:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA3RkYxRjk4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA3RkYxRkE4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMDdGRjFGNzgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMDdGRjFGODgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pmy8qf8AAACXSURBVHjanFK5DYAwDLSQC4ZiAApKxqFkHEoKBmAoSk5KdJjYoMCJSNZxfuKLLpMMndRg3WWcRY5NkFMDKAHFQZ7PQdu2zyIEFDRhMasuoDVqxGS0kKYBwtq3DnZRL+rHO7wgd8AY3xJon92gvdVFpok5dwrwG19BBlvy9nlG+U5oKmGdDowjy6oIPKmsHa7fklD+wSnAAJ5pQlGPXNBsAAAAAElFTkSuQmCC"},519:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA3RkYxRkQ4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA3RkYxRkU4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMDdGRjFGQjgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMDdGRjFGQzgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ppg/u8cAAACRSURBVHjaYllTw+Bjw0AM2HKEIaSFgeHHDgagHmIAUCUQsAAxUB9ED7JVHB7YDWLBbx4BDUBTIeqADHxOgjgG2Q24jEexAU0RxDZkq1BsgEsga4O7EIsNmKEEEcRpA7KpEDmINE4bkM1GDn7CfkCzB00/uh+wWoLmMRY8iQdiD1oAsgDTIK5oQhMHqiQHAAQYALFPPKkjJ2O8AAAAAElFTkSuQmCC"},520:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTA5NUVCNDk4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTA5NUVCNEE4MEQ5MTFFOEE5QzFENEZCMzJGQ0ZCOUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMDdGRjFGRjgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMDk1RUI0ODgwRDkxMUU4QTlDMUQ0RkIzMkZDRkI5RSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjiJKAYAAACZSURBVHjajFKxDYAwDIuqDBzFAQyMnMPIOYwMHMBRjBgFtVGSllrtktqxlZT3leaRenBctGxE90nQ9ABMgHGhE41YDVNp4SspN8jB0Om1jiqfg37T7mElNUIjCY4Bh7yaT+AANnhC9e2LADMOTXwl6b38sm0kaHRuHSzvgf3+tcaw47GabObjcG0DAv/N2GRobMBMshePAAMA9ME5M1CfVL0AAAAASUVORK5CYII="},521:function(t,e,i){t.exports=i.p+"assets/img/up.89ccd7b3.png"},522:function(t,e,i){t.exports=i.p+"assets/img/left.fc5585f0.png"},523:function(t,e,i){t.exports=i.p+"assets/img/down.37a7de4f.png"},524:function(t,e,i){t.exports=i.p+"assets/img/right.d382dfe6.png"},525:function(t,e,i){t.exports=i.p+"assets/img/kong.c8206661.png"},526:function(t,e,i){"use strict";i(468)},531:function(t,e,i){"use strict";i.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left-title"},[e("h1",[this._v("过关条件：分数达到500")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"allTool"},[n("div",{staticClass:"tool"},[n("img",{attrs:{src:i(516),width:"30px",alt:""}}),t._v(" "),n("p",[t._v("增加爆炸直径")])]),t._v(" "),n("div",{staticClass:"tool"},[n("img",{attrs:{src:i(517),width:"30px",alt:""}}),t._v(" "),n("p",[t._v("分数加60")])]),t._v(" "),n("div",{staticClass:"tool"},[n("img",{attrs:{src:i(518),width:"30px",alt:""}}),t._v(" "),n("p",[t._v("时间增加30s")])]),t._v(" "),n("div",{staticClass:"tool"},[n("img",{attrs:{src:i(519),width:"30px",alt:""}}),t._v(" "),n("p",[t._v("人物移速增加")])]),t._v(" "),n("div",{staticClass:"tool"},[n("img",{attrs:{src:i(520),width:"30px",alt:""}}),t._v(" "),n("p",[t._v("炸弹数量增加")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"all-operate"},[n("div",{staticClass:"operate"},[n("div",{staticClass:"operate-top"},[n("img",{attrs:{src:i(521),width:"60px",alt:""}})]),t._v(" "),n("div",{staticClass:"operate-bottom"},[n("div",[n("img",{attrs:{src:i(522),width:"60px",alt:""}})]),t._v(" "),n("div",[n("img",{attrs:{src:i(523),width:"60px",alt:""}})]),t._v(" "),n("div",[n("img",{attrs:{src:i(524),width:"60px",alt:""}})])]),t._v(" "),n("p",[t._v("上下左右操控玩家移动")])]),t._v(" "),n("div",{staticClass:"operate-kong"},[n("img",{attrs:{src:i(525),width:"200px",height:"60px",alt:""}}),t._v(" "),n("p",{staticClass:"kong-p"},[t._v("空格操控玩家放置炸弹")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main",attrs:{id:"box"}},[e("canvas",{attrs:{id:"mycanvas",width:"680",height:"600"}})])}],s=(i(50),i(51),i(70),i(68),i(433),function(){var t;this.type,this.cellX,this.cellY,this.init=function(e,i,n){switch(this.type=e,this.cellX=i,this.cellY=n,t=new Image,this.type){case 0:t.src="../img/wall.png";break;case 1:t.src="../img/floor.png";break;case 2:t.src="../img/obstacle.png"}},this.run=function(e){e.drawImage(t,this.cellX,this.cellY,40,40)},this.reset=function(){t.src="../img/floor.png"}}),o=function(){var t=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,2,1,2,2,2,1,2,2,2,1,0],[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,0],[0,1,0,1,0,1,0,1,0,1,0,2,0,1,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,0],[0,1,0,1,0,1,0,1,0,2,0,1,0,1,0,1,0],[0,2,1,1,1,2,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,1,0,1,0,1,0,2,0,1,0,1,0,1,0],[0,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,0],[0,1,0,2,0,1,0,1,0,1,0,1,0,1,0,2,0],[0,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,0],[0,0,1,0,1,0,1,0,1,0,0,1,0,1,0,0,0],[0,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],e=[];this.init=function(n){var o=i;n;for(var a=0;a<o;a++){e[a]=[];for(var h=t[a],r=0;r<h.length;r++){var c=new s;c.init(h[r],40*r,40*a),e[a][r]=c}}},this.getI=function(t){return Math.floor(t/40)},this.getJ=function(t){return Math.floor(t/40)},this.resetMap=function(t,e,i){for(var n=this.getI(e),s=this.getJ(t),o=1;o<=i;o++)this.checkVertical(n-o,s),this.checkHorizontal(n,s-o);for(o=1;o<=i;o++)this.checkVertical(n+o,s),this.checkHorizontal(n,s+o)};var i=t.length,n=t[0].label;this.checkVertical=function(n,s){n<0||n>=i||2==t[n][s]&&(t[n][s]=1,e[n][s].reset())},this.checkHorizontal=function(i,s){s<0||s>=n||2==t[i][s]&&(t[i][s]=1,e[i][s].reset())},this.run=function(t){e.forEach((function(e){e.forEach((function(e){e.run(t)}))}))},this.getMap=function(){return t},this.getcells=function(){return e}},a=function(){this.scorestart=0,this.init=function(t){this.addScore(t)},this.clear=function(){},this.getScore=function(){return this.scorestart},this.addScore=function(t){this.scorestart+=t,console.log(this.scorestart)}},h=function(){this.timeW=300,this.setTime=function(){this.timeW>0&&this.timeW--},this.addTime=function(){this.timeW+=50},this.getTime=function(){return this.timeW}},r=function(){var t,e,i,n,s,o,a=3,h=40,r=40;this.game,this.init=function(a,h){e=a,this.game=h,i=["../img/players"+e+"/down_01.png","../img/players"+e+"/down_02.png","../img/players"+e+"/down_03.png","../img/players"+e+"/down_04.png"],n=["../img/players"+e+"/up_01.png","../img/players"+e+"/up_02.png","../img/players"+e+"/up_03.png","../img/players"+e+"/up_04.png"],s=["../img/players"+e+"/left_01.png","../img/players"+e+"/left_02.png","../img/players"+e+"/left_03.png","../img/players"+e+"/left_04.png"],o=["../img/players"+e+"/right_01.png","../img/players"+e+"/right_02.png","../img/players"+e+"/right_03.png","../img/players"+e+"/right_04.png"],(t=new Image).src=i[c]};var c=0;this.run=function(e){e.drawImage(t,h,r,30,30)};var m,l,g,u,v;this.onkeydown=function(e){switch(e){case 38:this.canMoveUp()?this.moveUp():(++c>=4&&(c=0),t.src=n[c]);break;case 40:this.canMoveDown()?this.moveDown():(++c>=4&&(c=0),t.src=i[c]);break;case 37:this.canMoveLeft()?this.moveLeft():(++c>=4&&(c=0),t.src=s[c]);break;case 39:this.canMoveRight()?this.moveRight():(++c>=4&&(c=0),t.src=o[c]);break;case 16:a=7;break;case 32:m()}},this.setBoomlisten=function(t){m=t},this.onkeyup=function(t){switch(t){case 16:a=3}},this.moveUp=function(){(r-=a)<40&&(r=40),t.style.top=r+"px",++c>=4&&(c=0),t.src=n[c]},this.moveDown=function(){(r+=a)>530&&(r=530),t.style.top=r+"px",++c>=4&&(c=0),t.src=i[c]},this.moveLeft=function(){(h-=a)<40&&(h=40),t.style.left=h+"px",++c>=4&&(c=0),t.src=s[c]},this.moveRight=function(){(h+=a)>610&&(h=610),t.style.left=h+"px",++c>=4&&(c=0),t.src=o[c]},this.setMaplisten=function(t){l=t},this.setCells=function(t){g=t},this.getI=function(){return Math.floor((h+30)/40)},this.getJ=function(){return Math.floor((r+30)/40)},this.canMoveLeft=function(){var t=this.getI()-1;return!(1!=l()[this.getJ()][t]||r<g()[this.getJ()][t].cellY||u<this.getI()&&u>this.getI()-2)},this.canMoveRight=function(){var t=this.getI();return!(1!=l()[this.getJ()][t]||r<g()[this.getJ()][t].cellY||u>this.getI()&&u<this.getI()+2)},this.canMoveUp=function(){var t=this.getJ()-1;return!(1!=l()[t][this.getI()]||h<g()[t][this.getI()].cellX||v<this.getJ()&&v>this.getJ()-2)},this.canMoveDown=function(){var t=this.getJ();return!(1!=l()[t][this.getI()]||h<g()[t][this.getI()].cellX||v>this.getJ()&&v<this.getJ()+2)},this.islive=function(t){for(var e=0;e<t.length;e++){if(h<t[e].enemyX+t[e].enemyW&&h+30>t[e].enemyX&&r<t[e].enemyY+t[e].enemyH&&r+30>t[e].enemyY)document.getElementsByClassName("playerOver")[0].className="playerOver show",this.resetBoom()}},this.getProp=function(t,e,i){for(var n=0;n<t.length;n++)if(h<t[n].propX+t[n].propW&&h+30>t[n].propX&&r<t[n].propY+t[n].propH&&r+30>t[n].propY){switch(4==t[n].type&&(a+=2),t[n].type){case 4:a+=2;break;case 5:this.game.BoomsNum+=1;break;case 1:this.game.Boomlong+=1;break;case 3:i.addTime();break;case 2:e.addScore(60)}t[n].getplayer()}},this.getX=function(){return h},this.getY=function(){return r},this.getBoomXY=function(t,e){u=t,v=e},this.iscollision=function(t,e,i){Math.floor(e/40),Math.floor(t/40),this.getX(),this.getY()};var p=this;this.resetBoom=function(){t.src="",p.run=function(){}},this.getplayerX=function(){return h},this.getplayerY=function(){return r}},c=function(){var t,e;this.propX,this.propY,this.propW=30,this.propH=30,this.type,this.init=function(){t=new Image,this.type=Math.floor(5*Math.random()+1),t.src="../img/tool_0"+this.type+".png"},this.setMaplisten=function(t){e=t},this.randomNum=function(){var t,i=Math.floor(12*Math.random()+3),n=Math.floor(11*Math.random()+3);for(t=e()[i][n];1!=t;)i-=1,t=e()[i][n];this.propX=40*i,this.propY=40*n;var s=this.propX;this.propX=this.propY,this.propY=s},this.getplayer=function(){t.src="",this.propX=0,this.propY=0},this.run=function(e){e.drawImage(t,this.propX,this.propY,this.propW,this.propH)}},m=function(){var t,e,i,n,s,o,a,h;this.enemyX,this.enemyY,this.enemyW=30,this.enemyH=30,this.game,this.init=function(i){t=new Image,this.game=i,e=Math.floor(7*Math.random()),t.src=0==e?"../img/enemys/enemy1_01.png":1==e?"../img/enemys/enemy2_01.png":2==e?"../img/enemys/enemy3_01.png":3==e?"../img/enemys/enemy4_01.png":4==e?"../img/enemys/enemy5_01.png":5==e?"../img/enemys/enemy6_01.png":"../img/enemys/enemy0_01.png"},this.setMaplisten=function(t){i=t},this.setCells=function(t){n=t},this.randomNum=function(){var t=Math.floor(12*Math.random()+3),e=Math.floor(11*Math.random()+3);for(s=i()[t][e];1!=s;)t-=1,s=i()[t][e];this.enemyX=40*t,this.enemyY=40*e;var n=this.enemyX;this.enemyX=this.enemyY,this.enemyY=n},this.moveUp=function(){this.enemyY=this.enemyY-3,this.enemyY<40&&(this.enemyY=40),t.style.top=this.enemyY+"px"},this.moveDown=function(){this.enemyY=this.enemyY+3,this.enemyY>560-this.enemyH&&(this.enemyY=560-this.enemyH),t.style.top=this.enemyY+"px"},this.moveLeft=function(){this.enemyX=this.enemyX-3,this.enemyX<40&&(this.enemyX=40),t.style.left=this.enemyX+"px"},this.moveRight=function(){this.enemyX=this.enemyX+3,this.enemyX>640-this.enemyW&&(this.enemyX=640-this.enemyW),t.style.left=this.enemyX+"px"},this.enemyrun=function(){o=Math.floor(4*Math.random()+1)},this.move=function(){switch(o){case 1:this.canMoveUp()?this.moveUp():this.enemyrun();break;case 2:this.canMoveDown()?this.moveDown():this.enemyrun();break;case 3:this.canMoveLeft()?this.moveLeft():this.enemyrun();break;case 4:this.canMoveRight()?this.moveRight():this.enemyrun()}},this.getI=function(){return Math.floor((this.enemyX+this.enemyW)/40)},this.getJ=function(){return Math.floor((this.enemyY+this.enemyH)/40)},this.canMoveLeft=function(){var t=this.getI()-1;return!(1!=i()[this.getJ()][t]||this.enemyY<n()[this.getJ()][t].cellY||a<this.getI()&&a>this.getI()-2)},this.canMoveRight=function(){var t=this.getI();return!(1!=i()[this.getJ()][t]||this.enemyY<n()[this.getJ()][t].cellY||a>this.getI()&&a<this.getI()+2)},this.canMoveUp=function(){var t=this.getJ()-1;return!(1!=i()[t][this.getI()]||this.enemyX<n()[t][this.getI()].cellX||h<this.getJ()&&h>this.getJ()-2)},this.canMoveDown=function(){var t=this.getJ();return!(1!=i()[t][this.getI()]||this.enemyX<n()[t][this.getI()].cellX||h>this.getJ()&&h<this.getJ()+2)},this.getX=function(){return this.enemyX},this.getY=function(){return this.enemyY},this.getBoomXY=function(t,e){a=t,h=e},this.collision=function(t,e,i,n){var s=t,o=e,a=40*i,h=(i=this.getX(),this.getY());(s+40<=i&&i<=s+40+a&&o<=h&&h<=o+40||s<=i&&i<=s+40&&o+40<=h&&h<=o+40+a||s-a<=i&&i<=s&&o<=h&&h<=o+40||s<=i&&i<=s+40&&o-a<=h&&h<=o)&&(n.addScore(60),this.game.enemylive-=1,this.resetBoom())},this.resetBoom=function(){(this.enemyX=0,this.enemyY=0,this.move=function(){},t.src="",0==this.game.enemylive)&&(document.getElementsByClassName("gameOver")[0].className="gameOver show")},this.run=function(e){e.drawImage(t,this.enemyX,this.enemyY,this.enemyW,this.enemyH),this.move()}},l=function(){var t,e,i;this.BX,this.BY;var n,s,o,a=this,h=0,c=0,m=1,l=new r;this.getplayer=function(){s=l.getplayerX(),o=l.getplayerY()},this.init=function(s,o,a){e=s,i=o,this.BX=s,this.BY=o,n=a,(t=new Image).src="../img/bomb_01.png"};var u,v,p=[],A=[],y=[],f=[],I=[],M=[],d=[];this.initpic=function(){for(var t=4;t>=1;t--){var e=new Image;e.src="../img/Booms/up_0"+t+".png",p.push(e)}for(var i=4;i>=1;i--){var n=new Image;n.src="../img/Booms/vertical_0"+i+".png",A.push(n)}for(var s=4;s>=1;s--){var o=new Image;o.src="../img/Booms/middle_0"+s+".png",y.push(o)}for(var a=4;a>=1;a--){var h=new Image;h.src="../img/Booms/down_0"+a+".png",f.push(h)}for(var r=4;r>=1;r--){var c=new Image;c.src="../img/Booms/left_0"+r+".png",I.push(c)}for(var m=4;m>=1;m--){var l=new Image;l.src="../img/Booms/level_0"+m+".png",M.push(l)}for(var g=4;g>=1;g--){var u=new Image;u.src="../img/Booms/right_0"+g+".png",d.push(u)}},this.getX=function(){return e},this.getY=function(){return i},this.setMaplisten=function(t){u=t},this.getI=function(){return Math.floor((e+30)/40)},this.getJ=function(){return Math.floor((i+30)/40)},this.getNum=function(){return n},this.canBoomLeft=function(){var t=this.getI()-1;return 0!=u()[this.getJ()][t]},this.canBoomLeft2=function(t){var e=t;e>this.getI()&&(e=this.getI()-1);var i=this.getI()-e;return 0!=u()[this.getJ()][i]},this.canBoomRight=function(){var t=this.getI()+1;return 0!=u()[this.getJ()][t]},this.canBoomRight2=function(t){var e=t;e>this.getI()&&(e=this.getI()-1);var i=this.getI()+e;return 0!=u()[this.getJ()][i]},this.canBoomUp=function(){var t=this.getJ()-1;return 0!=u()[t][this.getI()]},this.canBoomUp2=function(t){var e=t;e>this.getJ()&&(e=this.getJ()-1);var i=this.getJ()-e;return 0!=u()[i][this.getI()]},this.canBoomDown=function(){var t=this.getJ()+1;return 0!=u()[t][this.getI()]},this.canBoomDown2=function(t){var e=t;e>this.getJ()&&(e=this.getJ()-1);var i=this.getJ()+e;return 0!=u()[i][this.getI()]},this.setBoomListener=function(t){v=t},this.run=function(r,l){console.log(g),setInterval((function(){a.getplayer()}),10);var u=s,p=o;switch(m){case 1:++c>32&&(m-=1,c=0),r.drawImage(t,e,i,30,30);break;case 0:if(++h>=4){v(l),m+=1;break}if(r.drawImage(y[h],e,i,30,30),this.canBoomUp())for(var f=0;f<n&&this.canBoomUp2(f);f++){r.drawImage(A[h],e,i-30*(f+1),30,30),i+30*(f+1)>p&&e-30*(f+1)<=u&&e+30*(f+1)>u&&i-30*(f+1)<p&&(e+30<=u&&u<=e+30*(f+2)&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i+30<=p&&p<=30*(f+2)||e-30*(f+1)<=u&&u<=e&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i-30*(f+1)<=p&&p<=i)&&(document.getElementsByClassName("playerOver")[0].className="playerOver show")}if(this.canBoomDown())for(f=0;f<n&&this.canBoomDown2(f);f++){r.drawImage(A[h],e,i+30*(f+1),30,30),i+30*(f+1)>p&&e-30*(f+1)<=u&&e+30*(f+1)>u&&i-30*(f+1)<p&&(e+30<=u&&u<=e+30*(f+2)&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i+30<=p&&p<=30*(f+2)||e-30*(f+1)<=u&&u<=e&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i-30*(f+1)<=p&&p<=i)&&(document.getElementsByClassName("playerOver")[0].className="playerOver show")}if(this.canBoomLeft())for(f=0;f<n&&this.canBoomLeft2(f);f++){r.drawImage(M[h],e-30*(f+1),i,30,30),i+30*(f+1)>p&&e-30*(f+1)<=u&&e+30*(f+1)>u&&i-30*(f+1)<p&&(e+30<=u&&u<=e+30*(f+2)&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i+30<=p&&p<=30*(f+2)||e-30*(f+1)<=u&&u<=e&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i-30*(f+1)<=p&&p<=i)&&(document.getElementsByClassName("playerOver")[0].className="playerOver show")}if(this.canBoomRight())for(f=0;f<n&&this.canBoomRight2(f);f++){r.drawImage(M[h],e+30*(f+1),i,30,30),i+30*(f+1)>p&&e-30*(f+1)<=u&&e+30*(f+1)>u&&i-30*(f+1)<p&&(e+30<=u&&u<=e+30*(f+2)&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i+30<=p&&p<=30*(f+2)||e-30*(f+1)<=u&&u<=e&&i<=p&&p<=i+30||e<=u&&u<=e+30&&i-30*(f+1)<=p&&p<=i)&&(document.getElementsByClassName("playerOver")[0].className="playerOver show")}}}},g=function(){var t,e,i,n,s,a,h,g,u,v,p=[];this.enemylive,this.score,this.game,this.init=function(e,i,n,s,o,a){t=this,this.score=s,this.game=o,g=e,h=Math.floor(Math.random()*i+n),this.initGame(),this.initMap(),this.initPlayer(s,a),this.initprop();for(var r=0;r<h;r++)this.initEnemy()},this.initGame=function(){var t=document.getElementById("mycanvas");a=t.getContext("2d")},this.initMap=function(){(e=new o).init(this.BoomMap)},this.initPlayer=function(){(i=new r).init(g,this.game),i.setMaplisten(this.mapListen),i.setCells(this.cellsListen),i.setBoomlisten(this.boomListener)},this.getplayer=function(){u=i.getplayerX(),v=i.getplayerY()},this.initEnemy=function(){(n=new m).init(this.game),p.push(n),t.enemylive=p.length,n.setMaplisten(this.mapListen),n.setCells(this.cellsListen),n.randomNum()};var A,y,f,I=[];this.initprop=function(){(s=new c).init(),I.push(s),s.setMaplisten(this.mapListen),s.randomNum()},this.getProp=function(){Math.floor(20*Math.random())&&this.initprop()},this.run=function(t,n){e.run(a),i.run(a);for(var s=0;s<h;s++)p[s].run(a);i.islive(p);for(s=0;s<M.length;s++)M[s].run(a,s);i.getProp(I,t,n);for(s=0;s<I.length;s++)I[s].run(a)},this.runEnemy=function(){for(var t=0;t<h;t++)p[t].enemyrun()},this.onkeydown=function(t){i.onkeydown(t)},this.onkeyup=function(t){i.onkeyup(t)},this.mapListen=function(){return e.getMap()},this.cellsListen=function(){return e.getcells()},this.boomListener=function(){t.setBomb()},this.BoomsNum=1,this.Boomlong=2,this.setBomb=function(){var e=new l;t.setTime=function(){t.getplayer(u,v)},e.init(i.getX(),i.getY(),this.Boomlong);e.BX;e.initpic(),M.length<this.BoomsNum&&M.push(e),y=e.getI(),f=e.getJ(),e.setBoomListener(this.boomOverListener),e.setMaplisten(this.mapListen),A=e.getNum(),i.getBoomXY(y,f);for(var n=0;n<h;n++)p[n].getBoomXY(y,f)};var M=[];this.boomOverListener=function(n){var s=M[n].getX(),o=M[n].getY();e.resetMap(s,o,A);for(var a=0;a<h;a++)p[a].collision(s,o,A,t.score);i.iscollision(s,o,A),y=null,f=null,i.getBoomXY(y,f);for(a=0;a<h;a++)p[a].getBoomXY(y,f);M.splice(n,1)}},u={data:function(){return{game:{run:null,runEnemy:null,getProp:null,getplayer:null},time:{getTime:null,run:null,num:0},score:{getScore:null,num:0}}},watch:{"time.num":{handler:function(t){t||(document.getElementsByClassName("timeOver")[0].className="timeOver show",clearInterval(time))}},"score.num":{handler:function(t){(console.log(123),t>=300)&&(document.getElementsByClassName("gameOver")[0].className="gameOver show")}}},mounted:function(){this.init()},beforeDestroy:function(){var t=this;Object.keys(this.game).forEach((function(e){clearInterval(t.game[e])})),Object.keys(this.time).forEach((function(e){clearInterval(t.time[e])}))},methods:{init:function(){var t=this,e=new g,i=new a,n=new h;e.init(1,20,20,i,e),console.log(e),this.game.run=setInterval((function(){e.run(i,n)}),100),this.game.runEnemy=setInterval((function(){e.runEnemy()}),1e3),this.game.getProp=setInterval((function(){e.getProp()}),6e3),this.game.getplayer=setInterval((function(){e.getplayer()}),10),document.onkeydown=function(t){e.onkeydown(t.keyCode)},document.onkeyup=function(t){e.onkeyup(t.keyCode)},this.time.getTime=setInterval((function(){t.time.num=n.getTime()}),1e3),this.time.run=setInterval((function(){n.setTime()}),1e3),i.init(0),this.score.getScore=setInterval((function(){t.score.num=i.getScore()}),100)},reset:function(){var t=this;document.getElementsByClassName("playerOver")[0].className="playerOver",Object.keys(this.game).forEach((function(e){clearInterval(t.game[e])})),Object.keys(this.time).forEach((function(e){clearInterval(t.time[e])})),this.init()}}},v=(i(526),i(6)),p=Object(v.a)(u,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"all"},[i("div",{staticClass:"left"},[t._m(0),t._v(" "),i("div",[t._v("道具效果")]),t._v(" "),t._m(1),t._v(" "),i("div",[t._v("人物操作")]),t._v(" "),t._m(2),t._v(" "),i("div",{staticStyle:{"font-size":"25px"}},[t._v("\n        时间："+t._s(t.time.num)+"\n\n      ")]),t._v(" "),i("div",{staticStyle:{"font-size":"25px"}},[t._v("\n\n      分数："+t._s(t.score.num)+"\n    ")])]),t._v(" "),t._m(3)]),t._v(" "),i("div",{staticClass:"gameOver"},[i("div",{staticClass:"title"},[t._v("恭喜过关")]),t._v(" "),i("div",{staticClass:"next"},[i("div",{staticClass:"btn",attrs:{id:"nextPass"},on:{click:t.reset}},[t._v("\n       重置\n      ")])])]),t._v(" "),i("div",{staticClass:"timeOver"},[i("div",{staticClass:"title"},[t._v("时间耗尽游戏结束")]),t._v(" "),i("div",{staticClass:"next"},[i("div",{staticClass:"btn",attrs:{id:"timeBack"},on:{click:t.reset}},[t._v("\n        返回\n      ")])])]),t._v(" "),i("div",{staticClass:"playerOver"},[i("div",{staticClass:"title"},[t._v("游戏结束")]),t._v(" "),i("div",{staticClass:"next"},[i("div",{staticClass:"btn",attrs:{id:"playerBack"},on:{click:t.reset}},[t._v("\n        返回\n      ")])])])])}),n,!1,null,"45a5ca23",null);e.default=p.exports}}]);